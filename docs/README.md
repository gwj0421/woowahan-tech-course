# 미션 - 🍀 로또

---

## 💡 기능 요구 사항


### **핵심 알고리즘 및 구현할 기능**

- "구입금액을 입력해 주세요." 출력 후, 구입 금액 n(0<n<2,147,483,648)을 입력
    - 숫자가 아닌 문자가 입력될 경우 IllegalArgumentException을 발생시키고 "[error] 사용자가 입력한 것은 int 정수가 아닙니다. 다시 입력해주세요." 에러 메시지를 출력하고 입력을 다시 받음
    - 입력된 금액금액이 음수인 경우 IllegalArgumentException을 발생시키고 "[error] 사용자가 입력한 수는 음수입니다. 다시 입력해주세요." 에러 메시지를 출력하고 입력을 다시 받음
- 로또 1장의 가격을 1000원으로 책정하고 해당 가격으로 살 수 있는 개수 정수 m을 구하고 "m개를 구매했습니다." 출력
    - 로또 1장 가격인 1000원으로 구입 금액 n이 나누어 떨어지지 않을 경우 최대한 살 수 있는 개수로 예외 처리한다.
- m개 만큼 로또 번호 숫자 6개를 각각 생성하여 "[숫자, 숫자, 숫자, 숫자, 숫자, 숫자]"형태의 오름차순으로 정렬해서 출력
    - 로또 번호 숫자들은 제공된 Randoms.pickUniqueNumbersInRange함수를 통해 생성, 자체적으로 1~45 범위안에 처리되있음으로 타당성 검사 생략
- "당첨 번호를 입력해 주세요." 출력 후, "숫자,숫자,숫자,숫자,숫자,숫자"형태와 같이 사용자의 6개의 수를 쉼표로 구분하여 입력받음
    - 입력된 번호들의 개수가 6개가 아닌 경우 IllegalArgumentException을 발생시키고 "[error] 사용자가 입력한 당첨 번호 개수는 6개가 아닙니다. 다시 입력해주세요." 에러 메시지를 출력하고 입력을 다시 받음
    - 입력된 번호가 1이상 45이하가 아닐경우 IllegalArgumentException을 발생시키고 "[error] 번호는 1부터 45 사이의 숫자여야 합니다. 다시 입력해주세요." 에러 메시지를 출력하고 입력을 다시 받음
    - 숫자가 아닌 문자가 입력될 경우 NumberFormatException을 발생시키고 "[error] 사용자가 입력한 것은 int 정수가 아닙니다. 다시 입력해주세요." 에러 메시지를 출력하고 입력을 다시 받음
    - 중복된 숫자가 입력될 경우 IllegalArgumentException을 발생시키고 "[error] 중복된 숫자가 입력되었습니다. 다시 입력해주세요" 에러 메시지 출력하고 입력을 다시 받음
- "보너스 번호를 입력해 주세요." 출력 후, 숫자를 입력받음
    - 입력된 보너스 번호가 1개가 아닌 경우 IllegalArgumentException을 발생시키고 "[error] 사용자가 입력한 보너스 번호 개수는 1개가 아닙니다. 다시 입력해주세요." 에러 메시지를 출력하고 입력을 다시 받음
    - 입력된 보너스 번호가 1이상 45이하가 아닐경우 IllegalArgumentException발생시키고 "[error] 번호는 1부터 45 사이의 숫자여야 합니다. 다시 입력해주세요." 에러 메시지를 출력하고 입력을 다시 받음
    - 숫자가 아닌 문자가 입력될 경우 NumberFormatException발생시키고 "[error] 사용자가 입력한 것은 int 정수가 아닙니다. 다시 입력해주세요." 에러 메시지를 출력하고 입력을 다시 받음
    - 중복된 숫자가 입력될 경우 IllegalArgumentException을 발생시키고 "[error] 중복된 숫자가 입력되었습니다. 다시 입력해주세요" 에러 메시지 출력하고 입력을 다시 받음
- 아래의 조건에 따라 1등부터 5등까지 당첨
    - 1등: 6개 번호 일치 / 2,000,000,000원
    - 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
    - 4등: 4개 번호 일치 / 50,000원
    - 5등: 3개 번호 일치 / 5,000원
    - 3등: 5개 번호 일치 / 1,500,000원
- 당첨 내역이 5등이 a개, 4등이 b개, 3등이 c개, 2등이 d개 1등이 e개일 경우 아래와 같이 출력
```
3개 일치 (5,000원) - a개
4개 일치 (50,000원) - b개
5개 일치 (1,500,000원) - c개
5개 일치, 보너스 볼 일치 (30,000,000원) - d개
6개 일치 (2,000,000,000원) - e개
```
- 수익률(소수점 둘째 자리에서 반올림) 을 계산하여 "총 수익률은 62.5%입니다."의 형태로 출력

# 개발 전략

이전의 프로젝트에서 TDD와 BDD를 사용해보았다.

해당 방법들을 모두 사용해본 결과 TDD와 달리 BDD는 테스트를 덜 해도되고 설계시 모순점이 무엇인지를 발견할 수 있는 장점이 있었다.

하지만 해당 프로젝트의 목적은 서비스 구현보다 학습에 가깝고, 특히 테스트 학습에 의의가 있기 때문에 시간이 더 걸리는 TDD를 선택하였다.

이전 프로젝트에서 TDD를 적용했을 때의 문제점이었던 코드 수정 리스크를 보완하고자 기능 요구사항을 보다 세밀하게 작성하였다.

그리고 domain과 view 디렉토리로 나눠 진행할 예정이다.

> Domain
> 1. Lotto class
> 2. BonusLotto class
> 3. UserLotto class
> 4. Ranking class
> 5. UserMoney class

> View
> 1. InputView
> 2. OutputView

추가로 예외를 효과적으로 예외를 컨트롤하면서 도메인과 뷰 사이의 독립성을 유지하기 위해, 뷰는 간략하게 도메인은 집중적으로 검증할 것이다.
> Domain
> 1. 주어진 수의 제한된 영역 검증
> 2. 중복 검증

> View
> 1. 공백 및 null 검증
> 2. 입력된 것이 숫자인지 검증

---
## 👓 프로그래밍 요구 사항 정리

- 실행 환경 : JDK 17
- build.gradle 변경 및 외부 라이브러리 사용 불가
- Java 코드 컨벤션 가이드 준수
    - 들여쓰기 : +4 스페이스
    - 들여쓰기 지속 : 최소 +8 스페이스
    - 최대 열 : 120
- System.exit() 사용 금지, ApplicationTest 성공 필수
- 요구사항에서 달리 명시하지 않는 파일, 패키지 이름 수정 혹은 이동 불가
- 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
    - 함수(또는 메서드)가 한 가지 일만 잘 하도록 구현한다.
- else 예약어를 쓰지 않는다.
    - 힌트: if 조건절에서 값을 return하는 방식으로 구현하면 else를 사용하지 않아도 된다.
    - else를 쓰지 말라고 하니 switch/case로 구현하는 경우가 있는데 switch/case도 허용하지 않는다.
- Java Enum을 적용한다.
- 도메인 로직에 단위 테스트를 구현해야 한다. 단, UI(System.out, System.in, Scanner) 로직은 제외한다.
    - 핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 분리해 구현한다.
    - 단위 테스트 작성이 익숙하지 않다면 `test/java/lotto/LottoTest`를 참고하여 학습한 후 테스트를 구현한다.
- `camp.nextstep.edu.missionutils`에서 제공하는 `Randoms` 및 `Console` API를 사용하여 구현해야 한다
- 제공된 `Lotto` 클래스를 활용해 구현해야 한다.
- `numbers`의 접근 제어자인 private을 변경할 수 없다.
- `Lotto`에 필드(인스턴스 변수)를 추가할 수 없다.
- `Lotto`의 패키지 변경은 가능하다.

---

## 💻 과제 진행 요구 사항

- 미션은 [java-lotto-6](https://github.com/woowacourse-precourse/java-lotto-6) 저장소를 Fork & Clone해 시작한다.
- **기능을 구현하기 전 `docs/README.md`에 구현할 기능 목록을 정리**해 추가한다.
- **Git의 커밋 단위는 앞 단계에서 `docs/README.md`에 정리한 기능 목록 단위**로 추가한다.
    - [커밋 메시지 컨벤션](https://gist.github.com/stephenparish/9941e89d80e2bc58a153) 가이드를 참고해 커밋 메시지를 작성한다.
- 과제 진행 및 제출 방법은 [프리코스 과제 제출](https://github.com/woowacourse/woowacourse-docs/tree/master/precourse) 문서를 참고한다.
